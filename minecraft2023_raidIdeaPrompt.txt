Привет! Мне нужно написать плагин для Minecraft 1.19.4, Spigot. Я бы назвал этот плагин "система рейдов".
Моё сообщение состоит из двух частей, пожалуйста, не отвечай на первую часть, начни отвечать после того, как я скину второе сообщение. На первое сообщение можешь просто ответить "Понял".
Мы с друзьями собираемся поиграть в Майнкрафт в режиме команда на команду в выживанию, и я бы хотел написать плагин, который смог бы немного сбалансировать нападения на базы друг друга.
Вот его описание: 
Изначально игроки строят свои базы для рейда (2 команды, у каждой одна база для рейда и соответственно один регион для привата). Капитан команды (никнейм которого указывается в файле конфигурации) может написать команду /setraidbase, после чего в месте, где он это написал, ставится регион привата радиусом из конфига. Так же на этом месте образуется специальная структура, которую я бы назвал Нексус - она состоит из бедрока, обсидиана, и барьера. Представь куб из бедрока размером 3x3x3 блока с обсидианом в центре, в 8 углах которого бедрока нет (блок воздуха). Так же бедрока нет с 6 сторон рядом с обсидианом, но там расположен блок барьера. Плагин должен проверить, возможно ли в этом месте разместить такую структуру, и если возможно - то пусть разместит её, но без обсидиана. Если нет - то выведет соответствующее сообщение. Как только рейд начинается - блоки барьера пропадают, блок обсидиана появляется. Цель атакующей команды - чтобы блок обсидиана сломался как угодно N-е количество раз из конфига. После того, как блок сломан очередной раз, в чате для всех пишется цветная надпись о том, что нексус подвергается нападению, и осталось сломать его оставшееся количество раз. После того, как блок обсидиана сломан, он появляется на том же месте через N-е количество секунд, указываемое в конфиге плагина. Если блок сломали нужное количество раз (и при этом за отведённое время, которое указывается в конфиге) - рейд сразу же заканчивается и победа зачисляется команде атакующих, и счётчик побед в специальном файле увеличивается. Если за требуемое время нексус не был уничтожен (то есть блок обсидиана не был сломан нужное количество раз), то победа зачисляется защищающимся. Это работает в две стороны.
Если на команду совершён рейд - то на неё нельзя напасть следующее некоторое количество времени, указываемое в конфиге.
Сам по себе плагин состоит по сути из двух вещей - это приват региона и сама система рейдов. Приват региона работает всегда, а систему рейдов можно отключать и включать по команде администратора. Если система рейдов включена - то справа отображается scoreboard с количеством успешных рейдов и убийств игроков другой команды (эта информация должна храниться в файле).
По умолчанию плагин должен запрещать всем игрокам совершать PvP в любом мире, но только если игрок не находится на вражеской территории (привате, и она существует при этом) или не активен рейд.
Приват должен запрещать любое взаимодействие с блоками. Нельзя их ставить, ломать, открывать сундуки и прочие хранилища. Взаимодействие с такими вещами, как двери и стены, редстоун механизмы, должно регулироваться с помощью файла конфига.
Когда капитан команды пишет в чат /openraid, открывается возможность к нему присоединиться, написав в чат /joinraid. Счётчик игроков в чате увеличивается. При этом эти сообщения в чате видят только игроки это команды. Составы команд (никнеймы игроков) и их названия и цвета должны указываться в соответствующем файле конфигурации. Кроме того, команды будут распределены средствами ванильной команды /team, чтобы у игроков разных команд были никнеймы разных цветов. После того, как все игроки, которые хотят, присоединились, капитан команды завершает сборы, написав /startraid. После этого, если достаточное количество игроков другой команды присутствует на сервере (или даже чуть меньше, разницу можно указать в файле конфигурации), то все игроки на сервере видят сообщение о начале рейда через некоторое количество минут (указывается в конфиге), и количестве нападающих. Так же указывается время, отведённое на рейд нападающим. Если игроков недостаточно для рейда (то есть атакующих больше, чем количество защищающихся в сети плюс допустимая разница из конфига) - он отменяется и команда, попытавшаяся его начать, видит об этом соответствующее сообщение в чате.
Все надписи имеют интуитивно подходящий цвет в чате в зависимости от контекста.
Так же этот плагин должен иметь возможность самостоятельно запускать некий "нейтральный" рейд в мире Энд по схожим правилам, но с другой сутью - каждое N-е количество часов (указывается в конфиге, и ещё +- случайное количество минут в диапазоне 60) с прошлого убийства дракона (или если это первый запуск мира) в Энде возрождается дракон, если его нет. При его убийстве выпадает такое же количество опыта, как если бы его убивали в первый раз. При его убийстве не появляется яйцо дракона (чтобы нельзя было возродить дракона вне контроля плагина). При его возрождении всем в чат пишется соответствующее сообщение. В радиусе, указываемом в конфиге, от места спавна дракона PvP между игроками разрешается, если дракон жив.
Возможность PvP между игроками своей команды всегда едина и указывается в конфиге.